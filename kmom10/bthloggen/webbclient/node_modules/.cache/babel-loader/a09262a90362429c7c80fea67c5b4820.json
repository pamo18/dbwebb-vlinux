{"ast":null,"code":"var _jsxFileName = \"/Users/office/Documents/dbwebb-kurser/vlinux/me/kmom10/bthloggen/webbclient/src/components/page/Profile.js\";\n\n/*eslint max-len: [\"error\", { \"code\": 150 }]*/\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport base from '../../config/api.js';\nimport io from 'socket.io-client';\nconst socket = io(base.chat());\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.logoff = this.logoff.bind(this);\n    this.state = {\n      user: \"\",\n      username: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getProfile();\n  }\n\n  logoff() {\n    localStorage.clear();\n    socket.emit('user left', this.state.username);\n    this.setState({\n      user: \"\"\n    });\n    this.props.history.push('/login');\n    window.location.reload(false);\n  }\n\n  getProfile() {\n    if (localStorage.getItem(\"activeUser\")) {\n      let user = localStorage.getItem(\"activeUser\"),\n          profile = [];\n      profile = JSON.parse(user);\n      this.setState({\n        user: [React.createElement(\"div\", {\n          key: \"profile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          className: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, \"Username: \", profile.name), React.createElement(\"h4\", {\n          className: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, \"Birthday: \", profile.birthday), React.createElement(\"h4\", {\n          className: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, \"Country: \", profile.country), React.createElement(\"h4\", {\n          className: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, \"Email: \", profile.email), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          name: \"logoff\",\n          className: \"button center\",\n          onClick: this.logoff,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, \"Logoff\")))],\n        username: profile.name\n      });\n    } else {\n      this.setState({\n        user: [React.createElement(\"h3\", {\n          key: \"registerfirst\",\n          className: \"center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, \"Your profile will be shown below when you register\")]\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"article\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Profile page\"), this.state.user);\n  }\n\n}\n\nProfile.propTypes = {\n  match: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired\n};\nexport default Profile;","map":{"version":3,"sources":["/Users/office/Documents/dbwebb-kurser/vlinux/me/kmom10/bthloggen/webbclient/src/components/page/Profile.js"],"names":["React","Component","PropTypes","base","io","socket","chat","Profile","constructor","props","logoff","bind","state","user","username","componentDidMount","getProfile","localStorage","clear","emit","setState","history","push","window","location","reload","getItem","profile","JSON","parse","name","birthday","country","email","render","propTypes","match","object","isRequired"],"mappings":"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","sourcesContent":["/*eslint max-len: [\"error\", { \"code\": 150 }]*/\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport base from '../../config/api.js';\nimport io from 'socket.io-client';\n\nconst socket = io(base.chat());\n\nclass Profile extends Component {\n    static propTypes = {\n        match: PropTypes.object.isRequired,\n        location: PropTypes.object.isRequired,\n        history: PropTypes.object.isRequired\n    };\n    constructor(props) {\n        super(props);\n        this.logoff = this.logoff.bind(this);\n        this.state = {\n            user: \"\",\n            username: \"\"\n        };\n    }\n    componentDidMount() {\n        this.getProfile();\n    }\n    logoff() {\n        localStorage.clear();\n        socket.emit('user left', this.state.username);\n        this.setState({\n            user: \"\"\n        });\n        this.props.history.push('/login');\n        window.location.reload(false);\n    }\n    getProfile() {\n        if (localStorage.getItem(\"activeUser\")) {\n            let user = localStorage.getItem(\"activeUser\"),\n                profile = [];\n\n            profile = JSON.parse(user);\n            this.setState({\n                user: [\n                    <div key=\"profile\">\n                        <h3 className=\"center\">Username: {profile.name}</h3>\n                        <h4 className=\"center\">Birthday: {profile.birthday}</h4>\n                        <h4 className=\"center\">Country: {profile.country}</h4>\n                        <h4 className=\"center\">Email: {profile.email}</h4>\n                        <p>\n                            <button name=\"logoff\" className=\"button center\" onClick={this.logoff}>Logoff</button>\n                        </p>\n                    </div>\n                ],\n                username: profile.name\n            });\n        } else {\n            this.setState({\n                user: [\n                    <h3 key=\"registerfirst\" className=\"center\">Your profile will be shown below when you register</h3>\n                ]\n            });\n        }\n    }\n\n    render() {\n        return (\n            <article>\n                <h1>Profile page</h1>\n                { this.state.user }\n            </article>\n        );\n    }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}